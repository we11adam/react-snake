(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{10:function(t,e,i){t.exports=i(17)},15:function(t,e,i){},16:function(t,e,i){},17:function(t,e,i){"use strict";i.r(e);var a=i(0),n=i.n(a),r=i(4),o=i.n(r),s=(i(15),i(2)),h=i(5),l=i(6),c=i(8),u=i(7),d=i(1),y=i(9);i(16);function v(t){return n.a.createElement("div",{className:"tile "+(t.shouldHighlight?"hlt":""),"data-name":t.name,id:t.isBait?"bait":""})}var f=function(t){function e(t){var i;return Object(h.a)(this,e),(i=Object(c.a)(this,Object(u.a)(e).call(this,t))).width=t.width,i.height=t.height,i.timer=null,i.newHead=null,i.allowedKeys={ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",ArrowDown:"down"},i.state={snake:[{x:8,y:12},{x:8,y:13},{x:8,y:14}]},i.state.bait=i.placeBait(),i.handleArrowKey=i.handleArrowKey.bind(Object(d.a)(i)),i.isTileOfSnake=i.isTileOfSnake.bind(Object(d.a)(i)),i.updateDirection(),i}return Object(y.a)(e,t),Object(l.a)(e,[{key:"updateDirection",value:function(){var t=Object(s.a)(this.state.snake,2),e=t[0],i=t[1];this.direction=e.x===i.x?"vertical":"horizontal"}},{key:"placeBait",value:function(){var t,e,i=this.width,a=this.height;do{t=Math.floor(Math.random()*i),e=Math.floor(Math.random()*a)}while(this.isTileOfSnake({x:t,y:e}));return{x:t,y:e}}},{key:"crawl",value:function(){var t,e,i,a,n=this.state.bait,r=this.state.snake.slice(),o=Object(s.a)(r,2),h=o[0],l=o[1];return t=this.newHead?this.newHead:h.x===l.x?{x:h.x,y:2*h.y-l.y}:{x:2*h.x-l.x,y:h.y},e=t,i=this.width,a=this.height,e.x<0||e.y<0||e.x===i||e.y===a?(clearInterval(this.timer),alert("game over")):this.isTileOfSnake(t)?(clearInterval(this.timer),alert("game over")):(r.unshift(t),this.newHead=null,void(t.x===n.x&&t.y===n.y?(n=this.placeBait(),this.setState({snake:r,bait:n})):(r.pop(),this.setState({snake:r}))))}},{key:"handleArrowKey",value:function(t){var e=this.allowedKeys[t.key];if(e){var i=Object(s.a)(this.state.snake,1)[0];if("vertical"===this.direction&&("left"===e||"right"===e)){var a="left"===e;this.newHead={x:i.x+(a?-1:1),y:i.y}}if("horizontal"===this.direction&&("up"===e||"down"===e)){var n="up"===e;this.newHead={x:i.x,y:i.y+(n?1:-1)}}}}},{key:"isTileOfSnake",value:function(t){var e=!0,i=!1,a=void 0;try{for(var n,r=this.state.snake[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var o=n.value;if(o.x===t.x&&o.y===t.y)return!0}}catch(s){i=!0,a=s}finally{try{e||null==r.return||r.return()}finally{if(i)throw a}}return!1}},{key:"componentDidUpdate",value:function(t,e,i){this.updateDirection()}},{key:"componentDidMount",value:function(){var t=this;document.addEventListener("keydown",this.handleArrowKey),this.timer=setInterval((function(){t.crawl()}),250)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer),document.removeEventListener("keydown",this.handleArrowKey)}},{key:"render",value:function(){for(var t=this.props,e=t.width,i=t.height,a=this.state.bait,r=[],o=i-1;o>=0;){for(var s=0;s<e;)r.push(n.a.createElement(v,{isBait:a.x===s&&a.y===o,shouldHighlight:this.isTileOfSnake({x:s,y:o}),key:"".concat(s,"-").concat(o),name:"".concat(s,"-").concat(o)})),s++;o--}return r}}]),e}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(f,{width:20,height:20}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[10,1,2]]]);
//# sourceMappingURL=main.b64cd60a.chunk.js.map